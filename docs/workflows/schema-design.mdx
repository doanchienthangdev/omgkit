---
title: "schema-design"
description: "Design production-grade database schemas"
icon: "database"
---

<Info>
  **Category:** Database

  **Complexity:** ðŸŸ¡ Medium

  **Estimated Time:** 2-8 hours
</Info>

## Quick Start

```bash
/workflow:schema-design "your description here"
```


# Schema Design Workflow

## Overview

The Schema Design workflow helps create well-structured, normalized, and performant database schemas with proper indexing and relationships.

## When to Use

- Starting new projects
- Adding new data models
- Redesigning data structures
- Optimizing existing schemas

## Steps

### Step 1: Requirements Gathering
**Agent:** planner
**Duration:** 30-60 minutes

Gather requirements:
- Entity identification
- Relationship mapping
- Data volume estimates
- Access patterns

**Output:** Data requirements

### Step 2: Entity-Relationship Design
**Agent:** database-admin
**Duration:** 1-2 hours

Design ER model:
- Entity definitions
- Relationships
- Cardinality
- Constraints

**Output:** ER diagram

### Step 3: Normalization
**Agent:** database-admin
**Duration:** 30-60 minutes

Normalize schema:
- Apply normal forms
- Eliminate redundancy
- Ensure data integrity
- Balance normalization vs performance

**Output:** Normalized schema

### Step 4: Index Design
**Agent:** database-admin
**Duration:** 30-60 minutes

Design indexes:
- Primary keys
- Foreign keys
- Query-based indexes
- Composite indexes

**Output:** Index strategy

### Step 5: Migration Creation
**Agent:** database-admin
**Duration:** 30-60 minutes

Create migrations:
- Write migration files
- Include rollback
- Test migrations
- Document changes

**Output:** Migration files

### Step 6: Validation
**Agent:** tester
**Command:** `/dev:test`
**Duration:** 30-60 minutes

Validate schema:
- Test migrations
- Verify constraints
- Check relationships
- Performance baseline

**Output:** Validation report

## Quality Gates

- [ ] Requirements documented
- [ ] ER diagram complete
- [ ] Schema normalized
- [ ] Indexes designed
- [ ] Migrations created
- [ ] Validation passed

## Schema Design Principles

```
Database Schema Principles
==========================
1. Single source of truth
2. Appropriate normalization
3. Proper data types
4. Meaningful naming
5. Consistent conventions
6. Performance-aware indexing
7. Referential integrity
8. Soft delete consideration
9. Audit trail support
10. Future extensibility
```

## Example Usage

```bash
/workflow:schema-design "e-commerce with users, products, orders"
/workflow:schema-design "multi-tenant SaaS application"
```

## Related Workflows

- `migration` - For schema changes
- `database-optimization` - For performance



## Agents Used

This workflow orchestrates the following agents:

- **[@database-admin](/agents/database-admin)** - Specialized agent for database admin tasks
- **[@planner](/agents/planner)** - Specialized agent for planner tasks
- **[@tester](/agents/tester)** - Specialized agent for tester tasks



## Skills Applied

- **[databases/database-schema-design](/skills/databases/database-schema-design)** - Domain expertise
- **[databases/postgresql](/skills/databases/postgresql)** - Domain expertise
- **[databases/mongodb](/skills/databases/mongodb)** - Domain expertise



## Commands Triggered

- `/planning:plan`
- `/dev:feature`
- `/dev:test`



## Prerequisites

- Data requirements defined
- Database type selected


## Orchestration Graph

### Agents Orchestrated

| Agent | Skills | Commands |
|-------|--------|----------|
| [database-admin](/agents/database-admin) | databases/database-optimization, databases/database-schema-design... | /quality:optimize, /workflow:schema-design... |
| [planner](/agents/planner) | methodology/writing-plans, methodology/executing-plans... | /planning:plan, /planning:plan-detailed... |
| [tester](/agents/tester) | methodology/test-driven-development, methodology/testing-anti-patterns... | /dev:test, /dev:tdd... |

### Skills Applied

| Skill | Description |
|-------|-------------|
| [databases/database-schema-design](/skills/database-schema-design) | AI agent designs production-grade database schemas with prop... |
| [databases/postgresql](/skills/postgresql) | PostgreSQL database design, queries, optimization, and best ... |
| [databases/mongodb](/skills/mongodb) | The agent implements MongoDB NoSQL database solutions with d... |

### Commands Available

| Command | Description |
|---------|-------------|
| [`/planning:plan`](/commands/planning-plan) | Create implementation plan |
| [`/dev:feature`](/commands/dev-feature) | Full feature development with planning, testing, and review |
| [`/dev:test`](/commands/dev-test) | Generate and run tests |


## Tips for Best Results

<Note>
Provide detailed context in your workflow description. Include specific requirements, constraints, and expected outcomes for optimal agent performance.
</Note>

## Related Workflows

<CardGroup cols={2}>
  <Card title="All Workflows" icon="diagram-project" href="/workflows/overview">
    See all 61 workflows
  </Card>
  <Card title="Database" icon="database" href="/workflows/overview#database">
    More database workflows
  </Card>
</CardGroup>
